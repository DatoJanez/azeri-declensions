<html>
    <head>
        <title>Azeri Declensions</title>
        <script>
            var get_declensions = (word) => {
                let word = document.getElementById('inp').value

                let vowels = ['i','ü','e','ö','ə','a','o','u','ı','i:','e:','ö:','ə:','a:','u:']
                let last_char = word.slice(-1)
                let last_vowel

                for(let i = word.length; i > 0; i--){
                    let char = word.slice(i-1, i)
                    if(vowels.indexOf(char) !== -1){
                        last_vowel = char
                        break
                    }
                }

                if (!last_vowel) Error('last vowel not found')

                root_ = last_char == 'q' 
                    ? word.slice(0,-1) + 'ğ' 
                    : last_char == 'k' 
                        ? word.slice(0,-1) + 'y'
                        : word

                if(vowels.indexOf(last_char) !== -1){
                    if (['ə', 'e', 'i'].indexOf(last_vowel) !== -1)     declensions = ['i', 'in', 'ə', 'də', 'dən']
                    if (['ö', 'ü' ].indexOf(last_vowel) !== -1)         declensions = ['ü', 'ün', 'ə', 'də', 'dən']
                    if (['a', 'ı' ].indexOf(last_vowel) !== -1)         declensions = ['ı', 'ın', 'a', 'da', 'dan']
                    if (['o', 'u' ].indexOf(last_vowel) !== -1)         declensions = ['u', 'un', 'a', 'da', 'dan']
                } else {
                    if (['ə', 'e', 'i'].indexOf(last_vowel) !== -1)     declensions = ['ni', 'nin', 'yə', 'də', 'dən']
                    if (['ö', 'ü' ].indexOf(last_vowel) !== -1)         declensions = ['nü', 'nün', 'yə', 'də', 'dən']
                    if (['a', 'ı' ].indexOf(last_vowel) !== -1)         declensions = ['nı', 'nın', 'ya', 'da', 'dan']
                    if (['o', 'u' ].indexOf(last_vowel) !== -1)         declensions = ['nu', 'nun', 'ya', 'da', 'dan']
                }
                // return {
                //     "Nom."  : word, 
                //     "Acc"   : root_ + declensions[0], 
                //     "Gen"   : root_ + declensions[1], 
                //     "Dat"   : root_ + declensions[2], 
                //     "Loc"   : word  + declensions[3], 
                //     "Abl:"  : word  + declensions[4]
                // }
                return [
                    word, 
                    root_ + declensions[0], 
                    root_ + declensions[1], 
                    root_ + declensions[2], 
                    word  + declensions[3], 
                    word  + declensions[4]
                ]
            }
        </script>
    </head>
    <body>
        <input id="inp" onkeyup="get_declensions()"/>
        <div id="res">

        </div>
    </body>
</html>
